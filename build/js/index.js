function appendMessage(e,s=!0,t=!1){const a=document.createElement("div");t||(e+=" "+actualTime()),a.innerText=e,!1===s?a.classList.add("not-you"):a.classList.add("you"),messageContainer.appendChild(a)}let userAction=function(e,s=!1){socket.on("user-"+e,t=>{appendMessage(`${t} ${e}`,s)})};function actualTime(){const e=new Date;return e.getHours()+":"+e.getMinutes()}const socket=io("http://localhost:3000",{forceNew:!0}),messageContainer=document.getElementById("message-container"),messageForm=document.getElementById("send-container"),messageInput=document.getElementById("message-input"),thisName=prompt("What is your name?");appendMessage("Joined"),socket.emit("new-user",thisName),userConnected=userAction("connected"),userConnected=userAction("disconnected"),socket.on("messages",e=>{for(dataMessage of e.data){var s=!1;thisName===dataMessage.username&&(s=!0),appendMessage(`${dataMessage.username} : ${dataMessage.message} ${dataMessage.time}`,s,!0)}}),socket.on("chat-message",e=>{0!==e.message.length&&appendMessage(`${e.name} : ${e.message}`,!1)}),messageForm.addEventListener("submit",e=>{e.preventDefault();const s=messageInput.value;0!==s.length&&(appendMessage(s),socket.emit("send-chat-message",s),messageInput.value="")});
//# sourceMappingURL=index.js.map
